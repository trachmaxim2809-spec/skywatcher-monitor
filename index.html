<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SkyWatcher Tactical</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #05070a;
        }

        #map {
            height: 100vh;
            width: 100vw;
            background: #05070a;
        }

        /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –∫–∞—Ä—Ç—ã */
        .leaflet-tile-pane {
            filter: invert(100%) hue-rotate(180deg) brightness(40%) contrast(130%);
        }

        /* –°—Ç–∏–ª—å –¥–ª—è –ø—É–ª—å—Å–∏—Ä—É—é—â–∏—Ö –∫—Ä—É–∂–æ—á–∫–æ–≤ */
        .pulse {
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 0 rgba(255, 255, 255, 0.4);
            animation: pulse-white 2s infinite;
        }

        @keyframes pulse-white {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
            }
        }
    </style>
</head>

<body>
    <div id="map"></div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        var map = L.map('map', {
            zoomControl: false,
            center: [48.3794, 31.1656],
            zoom: 6
        });

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä—É–∂–æ—á–∫–∞
        function addTarget(lat, lng, color, label) {
            L.circleMarker([lat, lng], {
                radius: 8,
                fillColor: color,
                color: "#fff",
                weight: 2,
                opacity: 1,
                fillOpacity: 0.8,
                className: 'pulse' // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
            }).addTo(map).bindPopup(label);
        }

        // –ü–†–ò–ú–ï–†–´ (–ø–æ—Ç–æ–º –±—É–¥–µ–º –ø–æ–ª—É—á–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–æ—Ç–∞)
        addTarget(50.45, 30.52, "#ffffff", "‚ö™ –ë–ü–õ–ê: –ö–∏–µ–≤");     // –ë–µ–ª—ã–π - –®–∞—Ö–µ–¥
        addTarget(48.46, 35.04, "#ff0000", "üî¥ –†–ê–ö–ï–¢–ê: –î–Ω–µ–ø—Ä");   // –ö—Ä–∞—Å–Ω—ã–π - –†–∞–∫–µ—Ç–∞
        addTarget(46.48, 30.72, "#00ccff", "üîµ –ü–í–û: –û–¥–µ—Å—Å–∞");    // –°–∏–Ω–∏–π - –†–∞–±–æ—Ç–∞ –ü–í–û

    </script>
</body>

</html>